<!DOCTYPE html>
<html>
    <head>
        <title>OAN TU TI</title>
    </head>
    <body>
        <p class="title">Rock Paper Scissors</p>
        <button class="move-button" onclick="
            playGame('rock');
        ">
        <img class="move-icon" src="https://supersimple.dev/projects/rock-paper-scissors/images/rock-emoji.png"> 
    </button>

        <button class="move-button" onclick="
            playGame('paper');
        ">
        <img class="move-icon" src="https://supersimple.dev/projects/rock-paper-scissors/images/paper-emoji.png">    
    </button>
        <button class="move-button" onclick="
            playGame('scissors');
        ">
        <img class="move-icon" src="https://supersimple.dev/projects/rock-paper-scissors/images/scissors-emoji.png">    
    </button>
        <button onclick="
            score.wins=score.losses=score.ties=0;
            localStorage.removeItem('score');
        ">Reset Score</button>
        <script>
            let score = JSON.parse(localStorage.getItem('score')) ||
            {
                wins: 0,
                losses: 0,
                ties: 0
            }

            function pick(){
                let move='';
                const n=Math.random();
                if(n<1/3) move='rock';
                else if (n<2/3) move='paper';  
                else move='scissors';
                return move;
            }
            function playGame(s){
                let move=pick();
                let result='';
                if(move==s) result='Tie.';
                else if((move=='rock' && s=='paper') ||
                    (move=='paper' && s=='scissors') ||
                    (move=='scissors' && s=='rock')) result='You win.';
                else result='You lose.';
                if(result=='Tie.') score.ties++;
                else if(result=='You win.') score.wins++;
                else score.losses++;

                localStorage.setItem('score',JSON.stringify(score));

                alert(`You picked ${s}. Computer picked ${move}. ${result}
                Wins: ${score.wins}, Losses: ${score.losses}, Ties: ${score.ties}`);
            }
        </script>
    </body>
</html>